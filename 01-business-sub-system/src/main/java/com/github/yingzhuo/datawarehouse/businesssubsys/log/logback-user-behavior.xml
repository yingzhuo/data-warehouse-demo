<?xml version="1.0" encoding="UTF-8"?>
<included>

    <springProfile name="flume">
        <appender name="UB_LOGIN" class="com.github.yingzhuo.logback.flume.FlumeAvroAppender">
            <flumeAgents>10.211.55.3:4141</flumeAgents>
            <flumeProperties>
                connect-timeout=4000;
                request-timeout=8000
            </flumeProperties>
            <batchSize>100</batchSize>
            <reportingWindow>1000</reportingWindow>
            <headers>
                <application>data-warehouse-demo</application>
                <tier>business-sub-system</tier>
                <type>login</type>
            </headers>
            <layout class="ch.qos.logback.classic.PatternLayout">
                <pattern>%message%n%ex</pattern>
            </layout>
        </appender>
    </springProfile>

    <springProfile name="!flume">
        <appender name="UB_LOGIN" class="ch.qos.logback.core.helpers.NOPAppender"/>
    </springProfile>

    <logger name="user.behavior.login" additivity="false" level="trace">
        <appender-ref ref="UB_LOGIN"/>
    </logger>

</included>